<!--
  Generated template for the AtendentePedidosPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>

    <ion-buttons end>
      <button ion-button clear icon-only (click)="recaregar()">
        <ion-icon name="refresh"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title>Pedidos</ion-title>
    <ion-buttons start>
      <button ion-button icon-only (click)="statusPedido()">
          <ion-icon name="funnel"></ion-icon>
      </button>
    </ion-buttons>

  </ion-navbar>
</ion-header>


<ion-content padding>

  <ion-list *ngFor = "let pedido of pedidos">
    <ion-card>

      <ion-item>
        <ion-title>{{pedido.tipo}}</ion-title>
        <h3>{{pedido.descricao}}</h3>
      </ion-item>

      <div *ngIf = " this.statuspedido == 'Feito' ">
        <ion-row>
          <ion-col col-auto>
            <button ion-button (click)="avaliar(1)" color="{{this.cor[0]}}" clear icon-only>
              <ion-icon name='star' is-active="false"></ion-icon>
            </button>
          </ion-col>
          <ion-col col-auto>
            <button ion-button (click)="avaliar(2)" color="{{this.cor[1]}}" clear icon-only>
              <ion-icon name='star' is-active="false"></ion-icon>
            </button>
          </ion-col>
          <ion-col col-auto>
            <button ion-button (click)="avaliar(3)" color="{{this.cor[2]}}" clear icon-only>
              <ion-icon name='star' is-active="false"></ion-icon>
            </button>
          </ion-col>
          <ion-col col-auto>
            <button ion-button (click)="avaliar(4)" color="{{this.cor[3]}}" clear icon-only>
              <ion-icon name='star' is-active="false"></ion-icon>
            </button>
          </ion-col>
          <ion-col col-auto>
            <button ion-button (click)="avaliar(5)" color="{{this.cor[4]}}" clear icon-only>
              <ion-icon name='star' is-active="false"></ion-icon>
            </button>
          </ion-col>
          <ion-col col-auto>
            {{pedido.avaliacao}}
          </ion-col>
        </ion-row>
      </div>

      <ion-item>
        <h2>Cliente:</h2>
        <p>{{pedido.clienteNome}}</p>
        <h2>Data:</h2>
        <p>{{pedido.data}}</p>
        <h2>Horario:</h2>
        <p>{{pedido.horario}}</p>
        <h2>Endereço:</h2>
        <p> {{pedido.endereco.quadra}} {{pedido.endereco.regiao}}, nº {{pedido.endereco.numero}} </p>
        <p>{{pedido.endereco.referencia}}</p>
      </ion-item>

      <ion-item>
        <span item-left>Preço: {{pedido.preco}} R$</span>
        <button [disabled]=buttonstatus (click)="atenderServico(pedido)" ion-button icon-right clear item-end>
          Iniciar atendimento
          <a href="https://www.google.com/maps/place/Palmas Tocantins {{pedido.endereco.quadra}} {{pedido.endereco.regiao}} {{pedido.endereco.referencia}}">
            <ion-icon name="navigate"></ion-icon>
          </a>
        </button>
      </ion-item>

    </ion-card>
  </ion-list>

</ion-content>
